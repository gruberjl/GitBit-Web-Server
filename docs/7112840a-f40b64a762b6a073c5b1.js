/*! For license information please see 7112840a-f40b64a762b6a073c5b1.js.LICENSE.txt */
"use strict";(self.webpackChunkgit_bit=self.webpackChunkgit_bit||[]).push([[16],{2040:function(t,e,n){var i=n(5861),r=n(136),a=n(2963),s=n(1120),o=n(2407),u=n(2982),h=n(5671),l=n(3144),c=n(7757),f=n.n(c),v=n(5331),y=n(2324),d=n(5190);n(9277),n(8689);function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var k=function(){function t(e){(0,h.Z)(this,t),this.uid=e}return(0,l.Z)(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");var E="9.0.2",T=new d.Yd("@firebase/firestore");function I(t){if(T.logLevel<=d.in.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(w);T.debug.apply(T,["Firestore (".concat(E,"): ").concat(t)].concat((0,u.Z)(r)))}}function A(t){if(T.logLevel<=d.in.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(w);T.error.apply(T,["Firestore (".concat(E,"): ").concat(t)].concat((0,u.Z)(r)))}}function w(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+t;throw A(e),new Error(e)}function R(t,e){t||N()}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(t){(0,r.Z)(n,t);var e=p(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,i)).code=t,r.message=i,r.name="FirebaseError",r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return n}((0,o.Z)(Error)),L=function t(){var e=this;(0,h.Z)(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_=function t(e,n){(0,h.Z)(this,t),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(e)},b=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(k.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),x=function(){function t(e){(0,h.Z)(this,t),this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,l.Z)(t,[{key:"start",value:function(t,e){var n=this,r=this.i,a=function(t){return n.i!==r?(r=n.i,e(t)):Promise.resolve()},s=new L;this.o=function(){n.i++,n.currentUser=n.u(),s.resolve(),s=new L,t.enqueueRetryable((function(){return a(n.currentUser)}))};var o=function(){var e=s;t.enqueueRetryable((0,i.Z)(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.promise;case 2:return t.next=4,a(n.currentUser);case 4:case"end":return t.stop()}}),t)}))))},u=function(t){I("FirebaseCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(t){return u(t)})),setTimeout((function(){if(!n.auth){var t=n.t.getImmediate({optional:!0});t?u(t):(I("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new L)}}),0),o()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(I("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(R("string"==typeof n.accessToken),new _(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return R(null===t||"string"==typeof t),new k(t)}}]),t}(),P=function(){function t(e,n,i){(0,h.Z)(this,t),this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=k.FIRST_PARTY}return(0,l.Z)(t,[{key:"authHeaders",get:function(){var t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}]),t}(),Z=function(){function t(e,n,i){(0,h.Z)(this,t),this.h=e,this.l=n,this.m=i}return(0,l.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(new P(this.h,this.l,this.m))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(k.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),C=function(){function t(e,n){var i=this;(0,h.Z)(this,t),this.previousValue=e,n&&(n.sequenceNumberHandler=function(t){return i.g(t)},this.p=function(t){return n.writeSequenceNumber(t)})}return(0,l.Z)(t,[{key:"g",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.p&&this.p(t),t}}]),t}();function U(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}C.T=-1;var O=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,null,[{key:"I",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=U(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n}}]),t}();function F(t,e){return t<e?-1:t>e?1:0}var M=function(){function t(e,n,i){(0,h.Z)(this,t),void 0===n?n=0:n>e.length&&N(),void 0===i?i=e.length-n:i>e.length-n&&N(),this.segments=e,this.offset=n,this.len=i}return(0,l.Z)(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),a=e.get(i);if(r<a)return-1;if(r>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),z=function(t){(0,r.Z)(n,t);var e=p(n);function n(){return(0,h.Z)(this,n),e.apply(this,arguments)}return(0,l.Z)(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];for(var a=0,s=i;a<s.length;a++){var o=s[a];if(o.indexOf("//")>=0)throw new D(S.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));t.push.apply(t,(0,u.Z)(o.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(M);var q=function(){function t(e){(0,h.Z)(this,t),this.binaryString=e}return(0,l.Z)(t,[{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return F(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}}]),t}();q.EMPTY_BYTE_STRING=new q("");var B=function(){function t(e){(0,h.Z)(this,t),this.path=e}return(0,l.Z)(t,[{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"isEqual",value:function(t){return null!==t&&0===z.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t(z.fromString(e))}},{key:"fromName",value:function(e){return new t(z.fromString(e).popFirst(5))}},{key:"comparator",value:function(t,e){return z.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new z(e.slice()))}}]),t}();var K,H;(H=K||(K={}))[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";var G=function(){function t(e,n){(0,h.Z)(this,t),this.comparator=e,this.root=n||j.EMPTY}return(0,l.Z)(t,[{key:"insert",value:function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,j.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,j.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new V(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new V(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new V(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new V(this.root,t,this.comparator,!0)}}]),t}(),V=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.isReverse=r,this.nodeStack=[];for(var a=1;!e.isEmpty();)if(a=n?i(e.key,n):1,r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return(0,l.Z)(t,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),t}(),j=function(){function t(e,n,i,r,a){(0,h.Z)(this,t),this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=a?a:t.EMPTY,this.size=this.left.size+1+this.right.size}return(0,l.Z)(t,[{key:"copy",value:function(e,n,i,r,a){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var t=this.left.check();if(t!==this.right.check())throw N();return t+(this.isRed()?0:1)}}]),t}();j.EMPTY=null,j.RED=!0,j.BLACK=!1,j.EMPTY=new(function(){function t(){(0,h.Z)(this,t),this.size=0}return(0,l.Z)(t,[{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}},{key:"copy",value:function(t,e,n,i,r){return this}},{key:"insert",value:function(t,e,n){return new j(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),t}());var Q=function(){function t(e){(0,h.Z)(this,t),this.comparator=e,this.data=new G(this.comparator)}return(0,l.Z)(t,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new Y(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new Y(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(e){var n=new t(this.comparator);return n.data=e,n}}]),t}(),Y=function(){function t(e){(0,h.Z)(this,t),this.iter=e}return(0,l.Z)(t,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),t}();new G(B.comparator);new G(B.comparator);new G(B.comparator);new Q(B.comparator);new Q(F);function X(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=J(e)),e=W(t.get(n),e);return J(e)}function W(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var a=t.charAt(r);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function J(t){return t+""}var $=function t(e,n,i){(0,h.Z)(this,t),this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=i};$.store="owner",$.key="owner";var tt=function t(e,n,i){(0,h.Z)(this,t),this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=i};tt.store="mutationQueues",tt.keyPath="userId";var et=function t(e,n,i,r,a){(0,h.Z)(this,t),this.userId=e,this.batchId=n,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=a};et.store="mutations",et.keyPath="batchId",et.userMutationsIndex="userMutationsIndex",et.userMutationsKeyPath=["userId","batchId"];var nt=function(){function t(){(0,h.Z)(this,t)}return(0,l.Z)(t,null,[{key:"prefixForUser",value:function(t){return[t]}},{key:"prefixForPath",value:function(t,e){return[t,X(e)]}},{key:"key",value:function(t,e,n){return[t,X(e),n]}}]),t}();nt.store="documentMutations",nt.PLACEHOLDER=new nt;var it=function t(e,n,i,r,a,s){(0,h.Z)(this,t),this.unknownDocument=e,this.noDocument=n,this.document=i,this.hasCommittedMutations=r,this.readTime=a,this.parentPath=s};it.store="remoteDocuments",it.readTimeIndex="readTimeIndex",it.readTimeIndexPath="readTime",it.collectionReadTimeIndex="collectionReadTimeIndex",it.collectionReadTimeIndexPath=["parentPath","readTime"];var rt=function t(e){(0,h.Z)(this,t),this.byteSize=e};rt.store="remoteDocumentGlobal",rt.key="remoteDocumentGlobalKey";var at=function t(e,n,i,r,a,s,o){(0,h.Z)(this,t),this.targetId=e,this.canonicalId=n,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=s,this.query=o};at.store="targets",at.keyPath="targetId",at.queryTargetsIndexName="queryTargetsIndex",at.queryTargetsKeyPath=["canonicalId","targetId"];var st=function t(e,n,i){(0,h.Z)(this,t),this.targetId=e,this.path=n,this.sequenceNumber=i};st.store="targetDocuments",st.keyPath=["targetId","path"],st.documentTargetsIndex="documentTargetsIndex",st.documentTargetsKeyPath=["path","targetId"];var ot=function t(e,n,i,r){(0,h.Z)(this,t),this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=i,this.targetCount=r};ot.key="targetGlobalKey",ot.store="targetGlobal";var ut=function t(e,n){(0,h.Z)(this,t),this.collectionId=e,this.parent=n};ut.store="collectionParents",ut.keyPath=["collectionId","parent"];var ht=function t(e,n,i,r){(0,h.Z)(this,t),this.clientId=e,this.updateTimeMs=n,this.networkEnabled=i,this.inForeground=r};ht.store="clientMetadata",ht.keyPath="clientId";var lt=function t(e,n,i){(0,h.Z)(this,t),this.bundleId=e,this.createTime=n,this.version=i};lt.store="bundles",lt.keyPath="bundleId";var ct=function t(e,n,i){(0,h.Z)(this,t),this.name=e,this.readTime=n,this.bundledQuery=i};ct.store="namedQueries",ct.keyPath="name";[tt.store,et.store,nt.store,it.store,at.store,$.store,ot.store,st.store].concat([ht.store]).concat([rt.store]).concat([ut.store]).concat([lt.store,ct.store]);function ft(t){return"IndexedDbTransactionError"===t.name}var vt=function(){function t(e,n,i){(0,h.Z)(this,t),this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return(0,l.Z)(t,null,[{key:"withCacheSize",value:function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),t}();vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(41943040,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);function yt(){return"undefined"!=typeof document?document:null}var dt=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,h.Z)(this,t),this.Oe=e,this.timerId=n,this.Qi=i,this.Wi=r,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return(0,l.Z)(t,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(t){var e=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),i=Math.max(0,Date.now()-this.Ji),r=Math.max(0,n-i);r>0&&I("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(function(){return e.Ji=Date.now(),t()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),t}();var gt=function(){function t(e,n,i,r,a){(0,h.Z)(this,t),this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return(0,l.Z)(t,[{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(e,n,i,r,a){var s=new t(e,n,Date.now()+i,r,a);return s.start(i),s}}]),t}();function mt(t,e){if(A("AsyncQueue","".concat(e,": ").concat(t)),ft(t))return new D(S.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}var pt=function(){function t(e,n,r){var a=this;(0,h.Z)(this,t),this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=O.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var t=(0,i.Z)(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I("FirestoreClient","Received user=",e.uid),t.next=3,a.credentialListener(e);case 3:a.user=e;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var e;return(0,l.Z)(t,[{key:"getConfiguration",value:(e=(0,i.Z)(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"setCredentialChangeListener",value:function(t){this.credentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new D(S.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(f().mark((function n(){var i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=t.onlineComponents,!n.t0){n.next=5;break}return n.next=5,t.onlineComponents.terminate();case 5:if(n.t1=t.offlineComponents,!n.t1){n.next=9;break}return n.next=9,t.offlineComponents.terminate();case 9:t.credentials.shutdown(),e.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),i=mt(n.t2,"Failed to shutdown persistence"),e.reject(i);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),e.promise}}]),t}();var kt=function t(e,n,i,r,a,s,o,u){(0,h.Z)(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=u},Et=function(){function t(e,n){(0,h.Z)(this,t),this.projectId=e,this.database=n||"(default)"}return(0,l.Z)(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}]),t}(),Tt=new Map;var It=function(){function t(e){var n;if((0,h.Z)(this,t),void 0===e.host){if(void 0!==e.ssl)throw new D(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new D(S.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return(0,l.Z)(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),At=function(){function t(e,n){(0,h.Z)(this,t),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new It({}),this._settingsFrozen=!1,e instanceof Et?this._databaseId=e:(this._app=e,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new D(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Et(t.options.projectId)}(e))}return(0,l.Z)(t,[{key:"app",get:function(){if(!this._app)throw new D(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new D(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new It(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new b;switch(t.type){case"gapi":var e=t.client;return R(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Z(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new D(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(t){var e=Tt.get(t);e&&(I("ComponentProvider","Removing Datastore"),Tt.delete(t),e.terminate())}(this),Promise.resolve()}}]),t}();var wt=function(){function t(){var e=this;(0,h.Z)(this,t),this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new dt(this,"async_queue_retry"),this.Ea=function(){var t=yt();t&&I("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.tr()};var n=yt();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}var e,n;return(0,l.Z)(t,[{key:"isShuttingDown",get:function(){return this.wa}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.Ta(),this.Ia(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.wa){this.wa=!0,this.ya=t||!1;var e=yt();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ea)}}},{key:"enqueue",value:function(t){var e=this;if(this.Ta(),this.wa)return new Promise((function(){}));var n=new L;return this.Ia((function(){return e.wa&&e.ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.da.push(t),e.Aa()}))}},{key:"Aa",value:(n=(0,i.Z)(f().mark((function t(){var e=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.da.length){t.next=14;break}return t.prev=1,t.next=4,this.da[0]();case 4:this.da.shift(),this.rr.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),ft(t.t0)){t.next=12;break}throw t.t0;case 12:I("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:this.da.length>0&&this.rr.Xi((function(){return e.Aa()}));case 14:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return n.apply(this,arguments)})},{key:"Ia",value:function(t){var e=this,n=this.fa.then((function(){return e.ga=!0,t().catch((function(t){throw e.ma=t,e.ga=!1,A("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.ga=!1,t}))}));return this.fa=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var i=this;this.Ta(),this.pa.indexOf(t)>-1&&(e=0);var r=gt.createAndSchedule(this,t,e,n,(function(t){return i.Ra(t)}));return this._a.push(r),r}},{key:"Ta",value:function(){this.ma&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ba",value:(e=(0,i.Z)(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.fa,t.next=3,e;case 3:if(e!==this.fa){t.next=0;break}case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"Pa",value:function(t){var e,n=g(this._a);try{for(n.s();!(e=n.n()).done;){if(e.value.timerId===t)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"va",value:function(t){var e=this;return this.ba().then((function(){e._a.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n,i=g(e._a);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.skipDelay(),"all"!==t&&r.timerId===t)break}}catch(a){i.e(a)}finally{i.f()}return e.ba()}))}},{key:"Va",value:function(t){this.pa.push(t)}},{key:"Ra",value:function(t){var e=this._a.indexOf(t);this._a.splice(e,1)}}]),t}();var Nt=function(t){(0,r.Z)(n,t);var e=p(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t,i)).type="firestore",r._queue=new wt,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,l.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Rt(this),this._firestoreClient.terminate()}}]),n}(At);function Rt(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new kt(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new pt(t._credentials,t._queue,i)}!function(t){E=t}(v.Jn),(0,v.Xd)(new y.wA("firestore",(function(t,e){var n=e.options,i=t.getProvider("app").getImmediate(),r=new Nt(i,new x(t.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),r._setSettings(n),r}),"PUBLIC")),(0,v.KN)("@firebase/firestore","3.0.2",undefined)}}]);
//# sourceMappingURL=7112840a-f40b64a762b6a073c5b1.js.map